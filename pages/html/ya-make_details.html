<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Yandex Arcanum</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href = "../styles.css">
        <script src = "../script.js"></script>
    </head>
    <body>
        <header class="Header">
            <div class="Header-logo"></div>
            <div class="Header-dropdown">
                <span class="RepoList-currentRepo Text Text_lineHeight_18"><span class="Text_style_bold">Repository</span> Arc</span>
                <span class="RepoList-arrow Icon Icon-arrowDownBlack"></span>
                <ul class="RepoList RepoList_closed">
                    <li class="RepoList-item Text">Arc</li>
                    <li class="RepoList-item Text">My repository</li>
                    <li class="RepoList-item Text">Devtools-team repository</li>
                </ul>
            </div>
        </header>
        <main class="Main">
            <div class="Path"><span class="Text Text_color_gray_2 Text_lineHeight_24">arcadia    /    trunk    /    arcadia    /    arcanum    /    </span><span class="Text Text_style_bold">ya.make</span></div>
            <div class="Current">
                <div class="Current-objectName Text Text_style_bold Text_size_24">ya.make</div>
                <div class="Current-dropdown">
                    <span class="Current-branchName Text Text_color_gray_2 Text_size_24">trunk</span>
                    <span class="BranchList-arrow Icon Icon-arrowDownGray"></span>
                    <ul class="BranchList BranchList_closed">
                        <li class="BranchList-item">
                            <div class="BranchList-itemName Text Text_style_bold">Trunk</div>
                            <div class="BranchList-lastCommit Text Text_size_13 Text_lineHeight_20">Last commit 4 s ago</div>
                        </li>
                        <hr class="BranchList-break">
                        <li class="BranchList-item">
                            <div class="BranchList-itemName Text Text_style_bold Text_color_gray_1">users/rudskoy/DEVTOOLS-43865</div>
                            <div class="BranchList-lastCommit Text Text_color_gray_2 Text_size_13 Text_lineHeight_20">Last commit 1 min ago</div>
                        </li>
                        <li class="BranchList-item">
                            <div class="BranchList-itemName Text Text_style_bold Text_color_gray_1">users/rudskoy/DEVTOOLS-37948</div>
                            <div class="BranchList-lastCommit Text Text_color_gray_2 Text_size_13 Text_lineHeight_20">Last commit at 16:25</div>
                        </li>
                        <li class="BranchList-item">
                            <div class="BranchList-itemName Text Text_style_bold Text_color_gray_1">users/rudskoy/DEVTOOLS-94877</div>
                            <div class="BranchList-lastCommit Text Text_color_gray_2 Text_size_13 Text_lineHeight_20">Last commit yesterday, 14:50</div>
                        </li>
                        <li class="BranchList-item">
                            <div class="BranchList-itemName Text Text_style_bold Text_color_gray_1">users/rudskoy/DEVTOOLS-87450</div>
                            <div class="BranchList-lastCommit Text Text_color_gray_2 Text_size_13 Text_lineHeight_20">Last commit on Jan 11, 12:01</div>
                        </li>
                        <li class="BranchList-item">
                            <div class="BranchList-itemName Text Text_style_bold Text_color_gray_1">users/rudskoy/DEVTOOLS-27073</div>
                            <div class="BranchList-lastCommit Text Text_color_gray_2 Text_size_13 Text_lineHeight_20">Last commit on Dec 29, 2017</div>
                        </li>
                    </ul>
                </div>
                <div class="Current-lastCommit Text">Last commit <a class="Text Text_color_lightBlue">r3248813</a> on <span class="Text Text_color_lightBlue">20 Oct 2017, 12:24</span> by <span class="Commiter Text">robot-srch-releaser</span></div>
            </div>
            <div class="Tabs Text Text_color_gray_2">
                <a class="Tabs-tab Tabs-tab_selected Text Text_style_bold Text_size_16">DETAILS</a>
                <a class="Tabs-tab Text Text_style_bold Text_size_16" href="1-6">HISTORY</a>
            </div>
            <div class="Main-content">
                <div class="Viewer Viewer_file">
                    <div class="Viewer-header Viewer-header_file">
                        <div class="Viewer-fileInfo">
                            <span class="Viewer-icon Icon Icon-fileCode"></span>
                            <span class="Viewer-fileName Text">ya.make</span>
                            <span class="Viewer-fileSize Text Text_color_gray_4">(4 347 bytes)</span>
                        </div>
                        <div class="Viewer-loadButton"></div>
                    </div>
                    <div class="Viewer-content Viewer-content_code Text_style_code">
                            <pre class="Code Text_color_darklightBlue">
<span class="Viewer-lineNumber Viewer-lineNumber_file">1</span><span class="Text_color_gray_3">#!/usr/bin/env python</span>
<span class="Viewer-lineNumber Viewer-lineNumber_file">2</span><span class="Text_style_bold">import</span> os
<span class="Viewer-lineNumber Viewer-lineNumber_file">3</span><span class="Text_style_bold">import</span> sys
<span class="Viewer-lineNumber Viewer-lineNumber_file">4</span><span class="Text_style_bold">import</span> platform
<span class="Viewer-lineNumber Viewer-lineNumber_file">5</span><span class="Text_style_bold">import</span> json
<span class="Viewer-lineNumber Viewer-lineNumber_file">6</span>
<span class="Viewer-lineNumber Viewer-lineNumber_file">7</span>URLS = [<a class="Text_color_lightBlue">'https://proxy.sandbox.yandex-team.ru/453818264'</a>, <a class="Text_color_lightBlue">'http://storage-int.mds.yandex.net/get-sandbox/110738/by_platform.json.453815347']</a>
<span class="Viewer-lineNumber Viewer-lineNumber_file">8</span>MD5 = <a class="Text_color_lightBlue">'7f5a85f9c28d35c3a76d8cea7af51106'</a>
<span class="Viewer-lineNumber Viewer-lineNumber_file">9</span>                               
<span class="Viewer-lineNumber Viewer-lineNumber_file">10</span>RETRIES = 5
<span class="Viewer-lineNumber Viewer-lineNumber_file">11</span>HASH_PREFIX = 10
<span class="Viewer-lineNumber Viewer-lineNumber_file">12</span>                                  
<span class="Viewer-lineNumber Viewer-lineNumber_file">13</span>HOME_DIR = os.path.expanduser(<a class="Text_color_lightBlue">'~'</a>)
<span class="Viewer-lineNumber Viewer-lineNumber_file">14</span>                                
<span class="Viewer-lineNumber Viewer-lineNumber_file">15</span>              
<span class="Viewer-lineNumber Viewer-lineNumber_file">16</span><span class="Text_style_bold">def</span> <a class="Text_color_lightBlue">create_dirs</a>(path):
<span class="Viewer-lineNumber Viewer-lineNumber_file">17</span>    <span class="Text_style_bold">try:</span>
<span class="Viewer-lineNumber Viewer-lineNumber_file">18</span>        os.makedirs(path)
<span class="Viewer-lineNumber Viewer-lineNumber_file">19</span>    <span class="Text_style_bold">except</span> OSError <span class="Text_style_bold">as</span> e:
<span class="Viewer-lineNumber Viewer-lineNumber_file">20</span>        <span class="Text_style_bold">import</span> errno
<span class="Viewer-lineNumber Viewer-lineNumber_file">21</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">22</span>        <span class="Text_style_bold">if</span> e.errno != errno.EEXIST:
<span class="Viewer-lineNumber Viewer-lineNumber_file">23</span>            <span class="Text_style_bold">raise</span>
<span class="Viewer-lineNumber Viewer-lineNumber_file">24</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">25</span>    <span class="Text_style_bold">return</span> path
<span class="Viewer-lineNumber Viewer-lineNumber_file">26</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">27</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">28</span><span class= "Text_style_bold">def</span> <a class="Text_color_lightBlue">misc_root</a>():
<span class="Viewer-lineNumber Viewer-lineNumber_file">29</span>    <span class= "Text_style_bold">return</span> create_dirs(os.getenv(<a class="Text_color_lightBlue">'YA_CACHE_DIR'</a>) or os.path.join(HOME_DIR, <a class="Text_color_lightBlue">'.ya'</a>))
<span class="Viewer-lineNumber Viewer-lineNumber_file">30</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">31</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">32</span><span class="Text_style_bold">def</span> <a class="Text_color_lightBlue">tool_root</a>():
<span class="Viewer-lineNumber Viewer-lineNumber_file">33</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">34</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">35</span><span class="Text_style_bold">def</span> <a class="Text_color_lightBlue">create_dirs</a>(path):
<span class="Viewer-lineNumber Viewer-lineNumber_file">36</span>    <span class="Text_style_bold">try:</span>
<span class="Viewer-lineNumber Viewer-lineNumber_file">37</span>        os.makedirs(path)
<span class="Viewer-lineNumber Viewer-lineNumber_file">38</span>    <span class="Text_style_bold">except</span> OSError <span class="Text_style_bold">as</span> e:
<span class="Viewer-lineNumber Viewer-lineNumber_file">39</span>        <span class="Text_style_bold">import</span> errno
<span class="Viewer-lineNumber Viewer-lineNumber_file">40</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">41</span>        <span class="Text_style_bold">if</span> e.errno != errno.EEXIST:
<span class="Viewer-lineNumber Viewer-lineNumber_file">42</span>            <span class="Text_style_bold">raise</span>
<span class="Viewer-lineNumber Viewer-lineNumber_file">43</span>                                    
<span class="Viewer-lineNumber Viewer-lineNumber_file">44</span>    <span class="Text_style_bold">return</span> path</pre>
                    </div>
                </div>
            </div>
        </main>
        <footer class="Footer">
            <span class="Footer-adress Text Text_color_gray_2 Text_size_13">Trade secrets of Yandex LLC. 16, Lev Tolstoy Str., Moscow, Russia, 119021</span>
            <span class="Footer-copyright Text Text_color_gray_2 Text_size_13">
                <span class="Footer-version">UI: 0.1.15</span>
                <span>© 2007—2019 <a class="Text_color_lightBlue">Yandex</a></span>
            </span>
        </footer>
    </body>
</html>